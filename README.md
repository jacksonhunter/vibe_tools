# Vibe Tools üõ†Ô∏è

Quality of life tools for coding with AI agents, focusing on code evolution tracking and analysis.

## üìä Code Evolver

A powerful tool for tracking how code evolves through Git history, extracting individual code elements (functions, classes, constants) and showing their specific changes across commits.

### Features

- **Multi-language support**: JavaScript, TypeScript, Python, Bash, PowerShell, R
- **AST-based parsing**: Uses web-tree-sitter WASM for accurate code extraction
- **Smart diff generation**: Shows evolution without overwhelming token counts
- **Interactive HTML reports**: Side-by-side diffs with NeonSurge theme
- **Compressed diff format**: Human and machine-readable format ideal for LLMs
- **Git notes integration**: Retroactively document commits with component details

### Installation (Without Cluttering Your Project)

1. **Clone vibe_tools outside your project**:
   ```bash
   git clone https://github.com/yourusername/vibe_tools.git ~/tools/vibe_tools
   ```

2. **Add to your project's .gitignore**:
   ```
   # Code Evolution Analysis (generated by vibe_tools)
   code-evolution-analysis/
   ```

3. **Run from your project root**:
   ```powershell
   # Windows PowerShell
   powershell.exe -ExecutionPolicy Bypass -File "~/tools/vibe_tools/code_evolver/Track-CodeEvolution.ps1" -ClassName "YourClass" -ExportHtml

   # Or create an alias
   Set-Alias track "~/tools/vibe_tools/code_evolver/Track-CodeEvolution.ps1"
   ```

### Quick Start Examples

```powershell
# Track a specific class evolution
track -ClassName "UserService" -ExportHtml

# Track functions matching a pattern
track -FunctionName "handle*" -ExportCompressedDiff

# Track all exports in library files
track -Exports -FilePath "lib/*.js" -ExportUnifiedDiff

# Analyze Python files with verbose output
track -FilePath "src/*.py" -Verbose -ExportHtml
```

### Output Formats

All outputs are saved to `./code-evolution-analysis/` in your project (gitignored):

- **evolution-report.html**: Interactive visual report with diff views
- **evolution-compressed-diff.txt**: Optimized for LLM analysis (~75% smaller)
- **evolution-unified-diff.txt**: Traditional chronological diffs
- **evolution-timeline.json**: Raw evolution data

### Compressed Diff Format

The compressed diff is optimized for both human and machine readability:

```
@@@ a4da2cf ‚Üí 2e3e6da @@@ + added ‚àí deleted
@@@ 2e3e6da ‚Üí 709a707 @@@ + added ‚àí deleted

L2: + static _ = this.register;
L2: - static priority = 5; // Runs after routing
2: = static priority = 5;
```

- Headers show commit progression with colored indicators
- Line changes are shown inline with the final code
- ~75% more compact than traditional diffs
- Perfect for LLM context windows

## üîß System Requirements

- **Git repository** (required)
- **Node.js** 14+ (required)
- **PowerShell** 5.1+ or PowerShell Core (required)
- **Windows/macOS/Linux** (cross-platform support)

## üìù Commit Message Best Practices

For best results with code evolution tracking, use structured commit messages:

```
feat(UserService): Add authentication caching

[authenticate] MODIFIED: Added Redis cache check
[validateToken] NEW: JWT validation helper
[CACHE_TTL] NEW: Cache timeout constant
```

This allows the tracker to show component-specific changes rather than just file-level diffs.

## üéØ Use Cases

- **Code Review**: Understand how critical functions evolved
- **Documentation**: Generate evolution reports for handoffs
- **AI Context**: Feed compressed diffs to LLMs for analysis
- **Debugging**: Track when and how bugs were introduced
- **Learning**: Study how experienced developers evolve code

## üöÄ Coming Soon

- **prompt_builder**: Template system for complex agent prompts
- **context_manager**: Smart context window management for AI
- **test_generator**: Generate tests from code evolution patterns
- **doc_sync**: Keep documentation synchronized with code changes

## Contributing

This project grows from real development needs. Contributions welcome!

1. Fork the repository
2. Create a feature branch
3. Use structured commit messages (see above)
4. Submit a pull request

## License

MIT - Use freely in your projects!

## Support

- **Issues**: [GitHub Issues](https://github.com/yourusername/vibe_tools/issues)
- **Documentation**: See `CLAUDE.md` for AI agent instructions
- **Examples**: Check `code_evolver/README.md` for detailed examples